<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QQQEwksSS9ZWwAAAk1JREFUWMPtll2ITVEUx39nn/O7Y5qR8f05wtCUUr6ZIS++8pEnkZInPImneaCQ5METNdOkeFBKUhMPRIkHKfEuUZSUlGlKPN2TrgfncpvmnntnmlEyq1Z7t89/rf9a6+y99oZxGZf/XeIq61EdtgKXgdXA0xrYAvBjOIF1AI9zvjcC74BSpndrJPkBWDScTF8Aa4E3wDlgHbASaANmVqlcCnwHvgDvgVfAJ+AikAAvgfVZwLnSVZHZaOuKoQi3ZOMi4NkYkpe1p4J7A8BpYAD49hfIy/oqG0+hLomiKP2L5L+1ubn5115S+3OAn4EnwBlgMzCjyt6ZAnQCJ4A7wOs88iRJHvw50HoujuPBoCKwHWiosy8MdfZnAdcHk8dxXFJ3VQbQlCTJvRBCGdRbD4M6uc5glpY3eAihpN5S5w12diSEcCCEcKUO4ljdr15T76ur1FDDLIQQ3qv71EdDOe3Kxj3leRXyk+pxdWnFWod6Wt2bY3de3aSuUHcPBVimHs7mK9WrmeOF6lR1o9qnzskh2ar2qm1qizpfXaPeVGdlmGN5pb09qMxz1Xb1kLqgzn1RyH7JUXW52lr5e/Kqi9qpto7V1atuUzfnARrV7jEib1T76gG2qxdGmXyiekkt1GswPTtek0aBfJp6YySGBfWg2tPQ0FAYgf1stUfdmdcjarbYJEniKIq6gY/Aw+zWHAC+p2labGpqiorFYgGYCEzN7oQdQClN07O1/EfDyGgC0ALMBdYAi4FyK+4H3gLPsxfR1zRNi+NP7nH5J+QntnXe5B5mpfQAAAAASUVORK5CYII=">

<!-- Google fonts -->
<link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
<link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>

<!-- CSS -->
<title>tecs</title>
<link rel="stylesheet" type="text/css" href="nimdoc.out.css">

<script type="text/javascript" src="dochack.js"></script>

<script type="text/javascript">
function main() {
  var pragmaDots = document.getElementsByClassName("pragmadots");
  for (var i = 0; i < pragmaDots.length; i++) {
    pragmaDots[i].onclick = function(event) {
      // Hide tease
      event.target.parentNode.style.display = "none";
      // Show actual
      event.target.parentNode.nextElementSibling.style.display = "inline";
    }
  }

  const toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');
  function switchTheme(e) {
      if (e.target.checked) {
          document.documentElement.setAttribute('data-theme', 'dark');
          localStorage.setItem('theme', 'dark');
      } else {
          document.documentElement.setAttribute('data-theme', 'light');
          localStorage.setItem('theme', 'light');
      }
  }

  toggleSwitch.addEventListener('change', switchTheme, false);

  const currentTheme = localStorage.getItem('theme') ? localStorage.getItem('theme') : null;
  if (currentTheme) {
    document.documentElement.setAttribute('data-theme', currentTheme);

    if (currentTheme === 'dark') {
      toggleSwitch.checked = true;
    }
  }
}
</script>

</head>
<body onload="main()">
<div class="document" id="documentId">
  <div class="container">
    <h1 class="title">tecs</h1>
    <div class="row">
  <div class="three columns">
  <div class="theme-switch-wrapper">
    <label class="theme-switch" for="checkbox">
      <input type="checkbox" id="checkbox" />
      <div class="slider round"></div>
    </label>
    &nbsp;&nbsp;&nbsp; <em>Dark Mode</em>
  </div>
  <div id="global-links">
    <ul class="simple">
    <li>
      <a href="theindex.html">Index</a>
    </li>
    </ul>
  </div>
  <div id="searchInputDiv">
    Search: <input type="text" id="searchInput"
      onkeyup="search()" />
  </div>
  <div>
    Group by:
    <select onchange="groupBy(this.value)">
      <option value="section">Section</option>
      <option value="type">Type</option>
    </select>
  </div>
  <ul class="simple simple-toc" id="toc-list">
<li><a class="reference" id="quick-tutorial_toc" href="#quick-tutorial">Quick Tutorial</a></li>
<li>
  <a class="reference reference-toplevel" href="#7" id="57">Types</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#Entity"
    title="Entity = object
  version*: uint32
  componentBitmask*: uint32
  tagBitmask*: uint32">Entity</a></li>
  <li><a class="reference" href="#World"
    title="World = object
  entities: seq[Entity]
  freeEntities: seq[uint32]
  currentEntityId*: uint32
  maxEntityId*: uint32
  allocSize*: uint32
  components: seq[pointer]
  componentTypeList: seq[string]
  tagTypeList: seq[string]
  systems: seq[proc (world: var World)]">World</a></li>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#12" id="62">Procs</a>
  <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">removeComponent
      <li><a class="reference" href="#removeComponent%2CWorld%2Cuint64%2Ctypedesc"
    title="removeComponent(world: var World; entity: uint64; componentType: typedesc)">removeComponent,<wbr>World,<wbr>uint64,<wbr>typedesc</a></li>

  </ul>
  <ul class="simple nested-toc-section">addTag
      <li><a class="reference" href="#addTag%2CWorld%2Cuint64%2Ctypedesc"
    title="addTag(world: var World; entity: uint64; tagType: typedesc)">addTag,<wbr>World,<wbr>uint64,<wbr>typedesc</a></li>

  </ul>
  <ul class="simple nested-toc-section">getEntityId
      <li><a class="reference" href="#getEntityId%2Cuint64"
    title="getEntityId(entity: uint64): uint32">getEntityId,<wbr>uint64</a></li>

  </ul>
  <ul class="simple nested-toc-section">freeEntity
      <li><a class="reference" href="#freeEntity%2CWorld%2Cuint64"
    title="freeEntity(world: var World; entity: uint64)">freeEntity,<wbr>World,<wbr>uint64</a></li>

  </ul>
  <ul class="simple nested-toc-section">addEntity
      <li><a class="reference" href="#addEntity%2CWorld"
    title="addEntity(world: var World): uint64">addEntity,<wbr>World</a></li>

  </ul>
  <ul class="simple nested-toc-section">withComponent
      <li><a class="reference" href="#withComponent%2CWorld%2Ctypedesc"
    title="withComponent(world: var World; componentType: typedesc): seq[uint64]">withComponent,<wbr>World,<wbr>typedesc</a></li>
  <li><a class="reference" href="#withComponent%2Cseq%5Buint64%5D%2CWorld%2Ctypedesc"
    title="withComponent(entities: seq[uint64]; world: var World; componentType: typedesc): seq[
    uint64]">withComponent,<wbr>seq[uint64],<wbr>World,<wbr>typedesc</a></li>

  </ul>
  <ul class="simple nested-toc-section">addComponent
      <li><a class="reference" href="#addComponent%2CWorld%2Cuint64%2Ctypedesc%5BT%5D"
    title="addComponent[T](world: var World; entity: uint64; componentType: typedesc[T]): ptr T">addComponent,<wbr>World,<wbr>uint64,<wbr>typedesc[T]</a></li>
  <li><a class="reference" href="#addComponent%2CWorld%2Cuint64%2CT"
    title="addComponent[T](world: var World; entity: uint64; component: T): ptr T">addComponent,<wbr>World,<wbr>uint64,<wbr>T</a></li>

  </ul>
  <ul class="simple nested-toc-section">getComponent
      <li><a class="reference" href="#getComponent%2CWorld%2Cuint64%2Ctypedesc%5BT%5D"
    title="getComponent[T](world: var World; entity: uint64; componentType: typedesc[T]): ptr T">getComponent,<wbr>World,<wbr>uint64,<wbr>typedesc[T]</a></li>

  </ul>
  <ul class="simple nested-toc-section">addSystem
      <li><a class="reference" href="#addSystem%2CWorld%2Cproc%28World%29"
    title="addSystem(world: var World; system: proc (world: var World))">addSystem,<wbr>World,<wbr>proc(World)</a></li>

  </ul>
  <ul class="simple nested-toc-section">getEntityVersion
      <li><a class="reference" href="#getEntityVersion%2Cuint64"
    title="getEntityVersion(entity: uint64): uint32">getEntityVersion,<wbr>uint64</a></li>

  </ul>
  <ul class="simple nested-toc-section">removeTag
      <li><a class="reference" href="#removeTag%2CWorld%2Cuint64%2Ctypedesc"
    title="removeTag(world: var World; entity: uint64; tagType: typedesc)">removeTag,<wbr>World,<wbr>uint64,<wbr>typedesc</a></li>

  </ul>
  <ul class="simple nested-toc-section">initWorld
      <li><a class="reference" href="#initWorld%2Cuint32%2Cuint32"
    title="initWorld(initAlloc: uint32 = 1000; allocSize: uint32 = 1000): World">initWorld,<wbr>uint32,<wbr>uint32</a></li>

  </ul>
  <ul class="simple nested-toc-section">withTag
      <li><a class="reference" href="#withTag%2CWorld%2Ctypedesc"
    title="withTag(world: var World; tagType: typedesc): seq[uint64]">withTag,<wbr>World,<wbr>typedesc</a></li>
  <li><a class="reference" href="#withTag%2Cseq%5Buint64%5D%2CWorld%2Ctypedesc"
    title="withTag(entities: seq[uint64]; world: var World; tagType: typedesc): seq[uint64]">withTag,<wbr>seq[uint64],<wbr>World,<wbr>typedesc</a></li>

  </ul>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#18" id="68">Templates</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#callSystems.t%2CWorld"
    title="callSystems(world: var World): untyped">callSystems</a></li>

  </ul>
</li>

</ul>

  </div>
  <div class="nine columns" id="content">
  <div id="tocRoot"></div>
  
  <p class="module-desc">TECS is a very simple and tiny ECS implementation. It doesn't try to be fast and productive. This implementation tries to be simple and understandable for both the user and the developer.
<h1><a class="toc-backref" id="quick-tutorial" href="#quick-tutorial">Quick Tutorial</a></h1><p>At the beginning of use, you should initialize the world. Of course, you can do all this manually, but it's best to use the <tt class="docutils literal"><span class="pre">initworld()</span></tt> procedure</p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">tecs</span>

<span class="Keyword">var</span> <span class="Identifier">world</span> <span class="Operator">=</span> <span class="Identifier">initWorld</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
<span class="Keyword">var</span> <span class="Identifier">entity</span> <span class="Operator">=</span> <span class="Identifier">world</span><span class="Operator">.</span><span class="Identifier">addEntity</span></pre><p>This implementation uses tags in addition to components. Tags differ from components in that they do not have fields and do not allocate memory when registering a new tag.</p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">tecs</span>

<span class="Keyword">type</span>
  <span class="Comment"># component</span>
  <span class="Identifier">BasicComponent</span> <span class="Operator">=</span> <span class="Keyword">object</span>
    <span class="Identifier">entityId</span><span class="Punctuation">:</span> <span class="Identifier">uint64</span> <span class="Comment"># required</span>
    <span class="Identifier">val</span><span class="Punctuation">:</span> <span class="Identifier">int</span>
  
  <span class="Comment"># tag</span>
  <span class="Identifier">BasicTag</span> <span class="Operator">=</span> <span class="Keyword">object</span>
    <span class="Comment"># no fields</span>

<span class="Keyword">var</span> <span class="Identifier">world</span> <span class="Operator">=</span> <span class="Identifier">initWorld</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
<span class="Keyword">var</span> <span class="Identifier">entity</span> <span class="Operator">=</span> <span class="Identifier">world</span><span class="Operator">.</span><span class="Identifier">addEntity</span>

<span class="Keyword">var</span> <span class="Identifier">component</span> <span class="Operator">=</span> <span class="Identifier">world</span><span class="Operator">.</span><span class="Identifier">addComponent</span><span class="Punctuation">(</span><span class="Identifier">entity</span><span class="Punctuation">,</span> <span class="Identifier">BasicComponent</span><span class="Punctuation">)</span>
<span class="Identifier">component</span><span class="Operator">.</span><span class="Identifier">val</span> <span class="Operator">=</span> <span class="DecNumber">12</span>

<span class="Identifier">world</span><span class="Operator">.</span><span class="Identifier">addTag</span><span class="Punctuation">(</span><span class="Identifier">entity</span><span class="Punctuation">,</span> <span class="Identifier">BasicTag</span><span class="Punctuation">)</span></pre><p>Systems accept only one argument as a single argument - <tt class="docutils literal"><span class="pre">var World</span></tt>. All further actions can be performed at the discretion of the developer (filtering entities, for example). There is also filtering for convenient entity search. You can filter entities both by tag and by a specific component.</p>
<pre class="listing"><span class="Comment"># system</span>
<span class="Keyword">proc</span> <span class="Identifier">changeVal</span><span class="Punctuation">(</span><span class="Identifier">world</span><span class="Punctuation">:</span> <span class="Keyword">var</span> <span class="Identifier">World</span><span class="Punctuation">)</span> <span class="Operator">=</span>
  <span class="Keyword">var</span> <span class="Identifier">filter</span> <span class="Operator">=</span> <span class="Identifier">withTag</span><span class="Punctuation">(</span><span class="Identifier">world</span><span class="Punctuation">,</span> <span class="Identifier">BasicTag</span><span class="Punctuation">)</span><span class="Operator">.</span><span class="Identifier">withComponent</span><span class="Punctuation">(</span><span class="Identifier">world</span><span class="Punctuation">,</span> <span class="Identifier">BasicComponent</span><span class="Punctuation">)</span>
  <span class="Keyword">for</span> <span class="Identifier">entity</span> <span class="Keyword">in</span> <span class="Identifier">filter</span><span class="Operator">.</span><span class="Identifier">items</span><span class="Punctuation">:</span>
    <span class="Keyword">var</span> <span class="Identifier">component</span> <span class="Operator">=</span> <span class="Identifier">world</span><span class="Operator">.</span><span class="Identifier">getComponent</span><span class="Punctuation">(</span><span class="Identifier">entity</span><span class="Punctuation">,</span> <span class="Identifier">BasicComponent</span><span class="Punctuation">)</span>
    <span class="Identifier">component</span><span class="Operator">.</span><span class="Identifier">x</span> <span class="Operator">+=</span> <span class="DecNumber">1</span>

<span class="Identifier">world</span><span class="Operator">.</span><span class="Identifier">addSystem</span> <span class="Identifier">changeVal</span>

<span class="Identifier">world</span><span class="Operator">.</span><span class="Identifier">callSystems</span></pre><p>ECS is written in such a way that you can add/remove/change an entity/component/tag at any time. But be careful with this. </p>
</p>
  <div class="section" id="7">
<h1><a class="toc-backref" href="#7">Types</a></h1>
<dl class="item">
<a id="Entity"></a>
<dt><pre><a href="tecs.html#Entity"><span class="Identifier">Entity</span></a> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">version</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint32</span>
  <span class="Identifier">componentBitmask</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint32</span>
  <span class="Identifier">tagBitmask</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint32</span>
</pre></dt>
<dd>

Base Entity object 

</dd>
<a id="World"></a>
<dt><pre><a href="tecs.html#World"><span class="Identifier">World</span></a> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">entities</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="tecs.html#Entity"><span class="Identifier">Entity</span></a><span class="Other">]</span>
  <span class="Identifier">freeEntities</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">uint32</span><span class="Other">]</span>
  <span class="Identifier">currentEntityId</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint32</span>
  <span class="Identifier">maxEntityId</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint32</span>
  <span class="Identifier">allocSize</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint32</span>
  <span class="Identifier">components</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">pointer</span><span class="Other">]</span>
  <span class="Identifier">componentTypeList</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span>
  <span class="Identifier">tagTypeList</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span>
  <span class="Identifier">systems</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Keyword">proc</span> <span class="Other">(</span><span class="Identifier">world</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="tecs.html#World"><span class="Identifier">World</span></a><span class="Other">)</span><span class="Other">]</span>
</pre></dt>
<dd>

The World contains all entities, components and systems. In fact, it is a container that is the foundation for the work of everything else. The world is responsible for the storage of entities, and for the storage of components, and for the storage of systems, with their subsequent implementation.

</dd>

</dl></div>
<div class="section" id="12">
<h1><a class="toc-backref" href="#12">Procs</a></h1>
<dl class="item">
<a id="initWorld,uint32,uint32"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#initWorld%2Cuint32%2Cuint32"><span class="Identifier">initWorld</span></a><span class="Other">(</span><span class="Identifier">initAlloc</span><span class="Other">:</span> <span class="Identifier">uint32</span> <span class="Other">=</span> <span class="DecNumber">1000</span><span class="Other">;</span> <span class="Identifier">allocSize</span><span class="Other">:</span> <span class="Identifier">uint32</span> <span class="Other">=</span> <span class="DecNumber">1000</span><span class="Other">)</span><span class="Other">:</span> <a href="tecs.html#World"><span class="Identifier">World</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Initialization of a World object. You should use this procedure to create a world, as it immediately indicates the size of the allocated memory. You can also change <tt class="docutils literal"><span class="pre">initAlloc</span></tt> for initial memory allocation and <tt class="docutils literal"><span class="pre">allocSize</span></tt> to specify how many blocks should be allocated in case of insufficient memory.

</dd>
<a id="getEntityId,uint64"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#getEntityId%2Cuint64"><span class="Identifier">getEntityId</span></a><span class="Other">(</span><span class="Identifier">entity</span><span class="Other">:</span> <span class="Identifier">uint64</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">uint32</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Returns the entity ID. In this implementation, the entity identifier is represented as <tt class="docutils literal"><span class="pre">uint64</span></tt>, which stores the ID in the upper 32 bits, and the version in the lower 32 bits.

</dd>
<a id="getEntityVersion,uint64"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#getEntityVersion%2Cuint64"><span class="Identifier">getEntityVersion</span></a><span class="Other">(</span><span class="Identifier">entity</span><span class="Other">:</span> <span class="Identifier">uint64</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">uint32</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Returns the version of the entity. In this implementation, the entity identifier is represented as <tt class="docutils literal"><span class="pre">uint64</span></tt>, which stores the ID in the upper 32 bits, and the version in the lower 32 bits.

</dd>
<a id="addEntity,World"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#addEntity%2CWorld"><span class="Identifier">addEntity</span></a><span class="Other">(</span><span class="Identifier">world</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="tecs.html#World"><span class="Identifier">World</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">uint64</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Adding a new entity to the world. Returns the entity identifier.

</dd>
<a id="removeComponent,World,uint64,typedesc"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#removeComponent%2CWorld%2Cuint64%2Ctypedesc"><span class="Identifier">removeComponent</span></a><span class="Other">(</span><span class="Identifier">world</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="tecs.html#World"><span class="Identifier">World</span></a><span class="Other">;</span> <span class="Identifier">entity</span><span class="Other">:</span> <span class="Identifier">uint64</span><span class="Other">;</span> <span class="Identifier">componentType</span><span class="Other">:</span> <span class="Identifier">typedesc</span><span class="Other">)</span></pre></dt>
<dd>

Remove a component from an entity located in the world.

</dd>
<a id="removeTag,World,uint64,typedesc"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#removeTag%2CWorld%2Cuint64%2Ctypedesc"><span class="Identifier">removeTag</span></a><span class="Other">(</span><span class="Identifier">world</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="tecs.html#World"><span class="Identifier">World</span></a><span class="Other">;</span> <span class="Identifier">entity</span><span class="Other">:</span> <span class="Identifier">uint64</span><span class="Other">;</span> <span class="Identifier">tagType</span><span class="Other">:</span> <span class="Identifier">typedesc</span><span class="Other">)</span></pre></dt>
<dd>

Remove a component from an entity located in the world.

</dd>
<a id="freeEntity,World,uint64"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#freeEntity%2CWorld%2Cuint64"><span class="Identifier">freeEntity</span></a><span class="Other">(</span><span class="Identifier">world</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="tecs.html#World"><span class="Identifier">World</span></a><span class="Other">;</span> <span class="Identifier">entity</span><span class="Other">:</span> <span class="Identifier">uint64</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Remove an entity from the world. In fact, the entity will not be removed, but only clear the bitmask of components and tags, and will also be moved to the list of recently released entities.

</dd>
<a id="addComponent,World,uint64,typedesc[T]"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#addComponent%2CWorld%2Cuint64%2Ctypedesc%5BT%5D"><span class="Identifier">addComponent</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">world</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="tecs.html#World"><span class="Identifier">World</span></a><span class="Other">;</span> <span class="Identifier">entity</span><span class="Other">:</span> <span class="Identifier">uint64</span><span class="Other">;</span>
                     <span class="Identifier">componentType</span><span class="Other">:</span> <span class="Identifier">typedesc</span><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">T</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">discardable</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Add a component for an entity located in the world.

</dd>
<a id="addComponent,World,uint64,T"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#addComponent%2CWorld%2Cuint64%2CT"><span class="Identifier">addComponent</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">world</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="tecs.html#World"><span class="Identifier">World</span></a><span class="Other">;</span> <span class="Identifier">entity</span><span class="Other">:</span> <span class="Identifier">uint64</span><span class="Other">;</span> <span class="Identifier">component</span><span class="Other">:</span> <span class="Identifier">T</span><span class="Other">)</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">T</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">discardable</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Add a component for an entity located in the world. This procedure can help in reducing the amount of code.

</dd>
<a id="addTag,World,uint64,typedesc"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#addTag%2CWorld%2Cuint64%2Ctypedesc"><span class="Identifier">addTag</span></a><span class="Other">(</span><span class="Identifier">world</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="tecs.html#World"><span class="Identifier">World</span></a><span class="Other">;</span> <span class="Identifier">entity</span><span class="Other">:</span> <span class="Identifier">uint64</span><span class="Other">;</span> <span class="Identifier">tagType</span><span class="Other">:</span> <span class="Identifier">typedesc</span><span class="Other">)</span></pre></dt>
<dd>

Add a tag for an entity located in the world. Tags, like entities, are objects, but they do not contain fields and no memory is allocated for them. In fact, they are stored only in the entity bitmask. Use them if you need to mark any object. They will help you save performance and memory, unlike if you were using a borderless component.

</dd>
<a id="getComponent,World,uint64,typedesc[T]"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#getComponent%2CWorld%2Cuint64%2Ctypedesc%5BT%5D"><span class="Identifier">getComponent</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">world</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="tecs.html#World"><span class="Identifier">World</span></a><span class="Other">;</span> <span class="Identifier">entity</span><span class="Other">:</span> <span class="Identifier">uint64</span><span class="Other">;</span>
                     <span class="Identifier">componentType</span><span class="Other">:</span> <span class="Identifier">typedesc</span><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">T</span></pre></dt>
<dd>

<p>Returns a pointer to the component. Used in systems.</p>
<p><strong>Important!</strong> This procedure does not check for the presence of a component in an entity, so if used incorrectly, you can get a component from an entity that no longer exists (that is, garbage instead of a component).</p>


</dd>
<a id="withTag,World,typedesc"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#withTag%2CWorld%2Ctypedesc"><span class="Identifier">withTag</span></a><span class="Other">(</span><span class="Identifier">world</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="tecs.html#World"><span class="Identifier">World</span></a><span class="Other">;</span> <span class="Identifier">tagType</span><span class="Other">:</span> <span class="Identifier">typedesc</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">uint64</span><span class="Other">]</span></pre></dt>
<dd>

It is used in systems for initial filtering of entities by tag.

</dd>
<a id="withTag,seq[uint64],World,typedesc"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#withTag%2Cseq%5Buint64%5D%2CWorld%2Ctypedesc"><span class="Identifier">withTag</span></a><span class="Other">(</span><span class="Identifier">entities</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">uint64</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">world</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="tecs.html#World"><span class="Identifier">World</span></a><span class="Other">;</span> <span class="Identifier">tagType</span><span class="Other">:</span> <span class="Identifier">typedesc</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span>
    <span class="Identifier">uint64</span><span class="Other">]</span></pre></dt>
<dd>

It is used in filter chains in systems for initial filtering of entities by tag.

</dd>
<a id="withComponent,World,typedesc"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#withComponent%2CWorld%2Ctypedesc"><span class="Identifier">withComponent</span></a><span class="Other">(</span><span class="Identifier">world</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="tecs.html#World"><span class="Identifier">World</span></a><span class="Other">;</span> <span class="Identifier">componentType</span><span class="Other">:</span> <span class="Identifier">typedesc</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">uint64</span><span class="Other">]</span></pre></dt>
<dd>

It is used in systems for initial filtering of entities by components.

</dd>
<a id="withComponent,seq[uint64],World,typedesc"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#withComponent%2Cseq%5Buint64%5D%2CWorld%2Ctypedesc"><span class="Identifier">withComponent</span></a><span class="Other">(</span><span class="Identifier">entities</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">uint64</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">world</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="tecs.html#World"><span class="Identifier">World</span></a><span class="Other">;</span>
                   <span class="Identifier">componentType</span><span class="Other">:</span> <span class="Identifier">typedesc</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">uint64</span><span class="Other">]</span></pre></dt>
<dd>

It is used in filter chains in systems for initial filtering of entities by components.

</dd>
<a id="addSystem,World,proc(World)"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#addSystem%2CWorld%2Cproc%28World%29"><span class="Identifier">addSystem</span></a><span class="Other">(</span><span class="Identifier">world</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="tecs.html#World"><span class="Identifier">World</span></a><span class="Other">;</span> <span class="Identifier">system</span><span class="Other">:</span> <span class="Keyword">proc</span> <span class="Other">(</span><span class="Identifier">world</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="tecs.html#World"><span class="Identifier">World</span></a><span class="Other">)</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">inline</span><span class="Other">,</span>
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Adding a system to the list of systems called by the world. The system must accept only one argument - <tt class="docutils literal"><span class="pre">world: var World</span></tt>.

</dd>

</dl></div>
<div class="section" id="18">
<h1><a class="toc-backref" href="#18">Templates</a></h1>
<dl class="item">
<a id="callSystems.t,World"></a>
<dt><pre><span class="Keyword">template</span> <a href="#callSystems.t%2CWorld"><span class="Identifier">callSystems</span></a><span class="Other">(</span><span class="Identifier">world</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="tecs.html#World"><span class="Identifier">World</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>

Calling all systems. This is just a simplification so that systems can be called as simply as possible. If you want to manually manage calling systems, then just don't use <tt class="docutils literal"><span class="pre">addSystem(world: var World, system: proc(world: var World))</span></tt> and call the systems manually.

</dd>

</dl></div>

  </div>
</div>

    <div class="row">
      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br/>
        <small style="color: var(--hint);">Made with Nim. Generated: 2021-11-01 05:24:53 UTC</small>
      </div>
    </div>
  </div>
</div>

</body>
</html>
